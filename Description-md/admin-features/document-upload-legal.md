# Document Upload / Legal Placeholder — IONEXUS Admin

## Mục tiêu
Cung cấp hệ thống quản lý tài liệu và pháp lý toàn diện, giúp lưu trữ, tổ chức và quản lý các tài liệu quan trọng liên quan đến bất động sản, hợp đồng và giao dịch.

## Tính năng chính

### 1. Quản lý Tài liệu
- **Danh sách tài liệu**:
  - Tên tài liệu
  - Loại tài liệu
  - Kích thước
  - Ngày tải lên
  - Người tải lên
  - Trạng thái (đang xử lý, hoàn thành, lỗi)
  - Tags/Labels
- **Bộ lọc và tìm kiếm**:
  - Lọc theo loại tài liệu, trạng thái, ngày tải lên
  - Tìm kiếm theo tên, nội dung (OCR)
  - Lọc theo tags/labels
- **Quản lý tài liệu**:
  - Tải lên tài liệu mới
  - Xem tài liệu
  - Tải xuống tài liệu
  - Xóa tài liệu
  - Chia sẻ tài liệu
- **Phân loại tài liệu**:
  - Hợp đồng
  - Giấy tờ pháp lý
  - Hình ảnh
  - Bản vẽ
  - Tài liệu marketing
  - Biên bản

### 2. Tải lên Tài liệu
- **Phương thức tải lên**:
  - Tải lên từ máy tính
  - Kéo và thả
  - Quét tài liệu (tích hợp scanner)
  - Nhập từ cloud storage (Google Drive, Dropbox, v.v.)
- **Xử lý tài liệu**:
  - Tự động nhận dạng loại tài liệu
  - OCR (Optical Character Recognition)
  - Tạo thumbnail
  - Tạo bản xem trước
  - Nén tài liệu
- **Kiểm tra tài liệu**:
  - Kiểm tra virus/malware
  - Kiểm tra định dạng hợp lệ
  - Kiểm tra kích thước tối đa
  - Kiểm tra nội dung không phù hợp

### 3. Xem và Chỉnh sửa Tài liệu
- **Xem tài liệu**:
  - Xem trực tiếp trên trình duyệt
  - Xem PDF, Word, Excel, PowerPoint, hình ảnh
  - Xem các trang của tài liệu
  - Phóng to/Thu nhỏ
- **Chỉnh sửa tài liệu**:
  - Thêm chú thích
  - Highlight nội dung
  - Thêm chữ ký điện tử
  - Chỉnh sửa metadata
- **Phiên bản tài liệu**:
  - Theo dõi các phiên bản
  - So sánh giữa các phiên bản
  - Khôi phục phiên bản cũ
  - Ghi chú cho mỗi phiên bản

### 4. Tổ chức Tài liệu
- **Cấu trúc thư mục**:
  - Tạo thư mục/danh mục
  - Di chuyển tài liệu giữa các thư mục
  - Phân cấp thư mục
  - Quản lý quyền truy cập thư mục
- **Tags và Labels**:
  - Gán tags cho tài liệu
  - Tạo và quản lý labels
  - Tìm kiếm theo tags/labels
  - Tags tự động dựa trên nội dung
- **Liên kết tài liệu**:
  - Liên kết với dự án
  - Liên kết với bất động sản
  - Liên kết với giao dịch
  - Liên kết với khách hàng

### 5. Quản lý Hợp đồng
- **Danh sách hợp đồng**:
  - Tên hợp đồng
  - Loại hợp đồng
  - Các bên tham gia
  - Ngày tạo
  - Ngày hết hạn
  - Trạng thái (nháp, chờ ký, đã ký, hết hạn, hủy)
- **Tạo hợp đồng**:
  - Sử dụng mẫu hợp đồng
  - Tùy chỉnh nội dung
  - Thêm các điều khoản
  - Thêm các bên tham gia
- **Quy trình ký hợp đồng**:
  - Gửi hợp đồng để ký
  - Theo dõi trạng thái ký
  - Nhắc nhở ký hợp đồng
  - Xác nhận hoàn thành
- **Quản lý mẫu hợp đồng**:
  - Tạo mẫu hợp đồng
  - Chỉnh sửa mẫu
  - Sử dụng mẫu
  - Quản lý phiên bản mẫu

### 6. Quản lý Tài liệu Pháp lý
- **Danh sách tài liệu pháp lý**:
  - Loại tài liệu
  - Số tài liệu
  - Ngày cấp
  - Cơ quan cấp
  - Ngày hết hạn
  - Trạng thái
- **Loại tài liệu pháp lý**:
  - Giấy chứng nhận quyền sử dụng đất
  - Giấy phép xây dựng
  - Giấy chứng nhận quyền sở hữu nhà ở
  - Giấy phép kinh doanh
  - Giấy tờ thuế
  - Các giấy tờ pháp lý khác
- **Theo dõi thời hạn**:
  - Cảnh báo tài liệu sắp hết hạn
  - Nhắc nhở gia hạn
  - Lịch sử gia hạn
  - Báo cáo tình trạng

### 7. Bảo mật và Quyền truy cập
- **Phân quyền tài liệu**:
  - Quyền xem
  - Quyền tải xuống
  - Quyền chỉnh sửa
  - Quyền xóa
  - Quyền chia sẻ
- **Nhóm quyền**:
  - Tạo nhóm quyền
  - Gán quyền cho nhóm
  - Gán người dùng vào nhóm
  - Thừa kế quyền
- **Bảo mật tài liệu**:
  - Mã hóa tài liệu
  - Watermark
  - Hạn chế in ấn
  - Hạn chế sao chép
- **Nhật ký truy cập**:
  - Theo dõi người xem
  - Theo dõi người tải xuống
  - Theo dõi người chỉnh sửa
  - Theo dõi người chia sẻ

### 8. Báo cáo và Phân tích
- **Báo cáo tài liệu**:
  - Số lượng tài liệu theo loại
  - Dung lượng sử dụng
  - Tài liệu mới/đã chỉnh sửa/đã xóa
  - Tài liệu phổ biến nhất
- **Báo cáo hoạt động**:
  - Hoạt động tải lên
  - Hoạt động xem
  - Hoạt động tải xuống
  - Hoạt động chia sẻ
- **Báo cáo hợp đồng**:
  - Tỷ lệ hoàn thành hợp đồng
  - Thời gian xử lý hợp đồng trung bình
  - Hợp đồng sắp hết hạn
  - Hợp đồng chưa hoàn thành
- **Báo cáo tuân thủ**:
  - Tình trạng tài liệu pháp lý
  - Tài liệu cần cập nhật
  - Tài liệu hết hạn
  - Mức độ tuân thủ

## Wireframe

### Danh sách Tài liệu
```
┌─────────────────────────────────────────────────────────────────────────┐
│ Documents                                         [+ Upload Document]   │
├─────────────────────────────────────────────────────────────────────────┤
│ ┌─────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────────────────┐ │
│ │ Search  │ │ Type ▼      │ │ Status ▼    │ │ Date Range ▼           │ │
│ └─────────┘ └─────────────┘ └─────────────┘ └─────────────────────────┘ │
│                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ Name         │ Type       │ Size     │ Uploaded    │ Status       │ │
│ ├─────────────┼────────────┼──────────┼────────────┼─────────────┤ │
│ │ Contract.pdf │ Contract   │ 2.5 MB   │ Today      │ Completed    │ │
│ ├─────────────┼────────────┼──────────┼────────────┼─────────────┤ │
│ │ Floorplan.jpg│ Drawing    │ 1.8 MB   │ Yesterday  │ Completed    │ │
│ ├─────────────┼────────────┼──────────┼────────────┼─────────────┤ │
│ │ Deed.pdf     │ Legal      │ 3.2 MB   │ 3 days ago │ Completed    │ │
│ ├─────────────┼────────────┼──────────┼────────────┼─────────────┤ │
│ │ Brochure.pdf │ Marketing  │ 5.6 MB   │ 1 week ago │ Completed    │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                         │
│ Showing 1-4 of 128 documents                    [1] [2] [3] ... [32] > │
└─────────────────────────────────────────────────────────────────────────┘
```

### Tải lên Tài liệu
```
┌─────────────────────────────────────────────────────────────────────────┐
│ Upload Document                                     [Save] [Cancel]     │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ Upload Files                                                       │ │
│ │                                                                     │ │
│ │ ┌─────────────────────────────────────────────────────────────────┐ │ │
│ │ │                                                                 │ │ │
│ │ │                                                                 │ │ │
│ │ │                                                                 │ │ │
│ │ │     Drag & Drop Files Here                                      │ │ │
│ │ │                                                                 │ │ │
│ │ │     or                                                          │ │ │
│ │ │                                                                 │ │ │
│ │ │     [Browse Files]                                              │ │ │
│ │ │                                                                 │ │ │
│ │ └─────────────────────────────────────────────────────────────────┘ │ │
│ │                                                                     │ │
│ │ Or import from: [Google Drive] [Dropbox] [OneDrive]                 │ │
│ │                                                                     │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ Document Details                                                   │ │
│ │                                                                     │ │
│ │ Document Type: [Contract                                     ▼]    │ │
│ │ Description:   [Sales contract for unit A-1201 at Palm Heights   ] │ │
│ │ Tags:          [contract, sales, palm-heights, unit-a1201        ] │ │
│ │                                                                     │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ Related Items                                                      │ │
│ │                                                                     │ │
│ │ Project:       [Palm Heights                                  ▼]    │ │
│ │ Property:      [Unit A-1201, Palm Heights                     ▼]    │ │
│ │ Transaction:   [T-5001: Bob Johnson - Unit A-1201             ▼]    │ │
│ │ Customer:      [Bob Johnson                                   ▼]    │ │
│ │                                                                     │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────┘
```

### Xem Tài liệu
```
┌─────────────────────────────────────────────────────────────────────────┐
│ < Back to Documents                     [Download] [Share] [Edit] [Delete]
├─────────────────────────────────────────────────────────────────────────┤
│ Contract.pdf                                                            │
│                                                                         │
│ ┌───────────┬───────────┬───────────┬───────────┬───────────┐           │
│ │ Preview   │ Details   │ Versions  │ Activity  │ Sharing   │           │
│ └───────────┴───────────┴───────────┴───────────┴───────────┘           │
│                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │                                                                     │ │
│ │                                                                     │ │
│ │                                                                     │ │
│ │                                                                     │ │
│ │                                                                     │ │
│ │                                                                     │ │
│ │                 Document Preview (PDF Viewer)                       │ │
│ │                                                                     │ │
│ │                                                                     │ │
│ │                                                                     │ │
│ │                                                                     │ │
│ │                                                                     │ │
│ │                                                                     │ │
│ │                                                                     │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                         │
│ ┌─────────────────────────┐  ┌─────────────────────────────────────┐    │
│ │                         │  │ Document Information                │    │
│ │                         │  │ ┌───────────────┬─────────────────┐ │    │
│ │                         │  │ │ Type          │ Contract        │ │    │
│ │                         │  │ ├───────────────┼─────────────────┤ │    │
│ │     Thumbnail           │  │ │ Size          │ 2.5 MB          │ │    │
│ │                         │  │ ├───────────────┼─────────────────┤ │    │
│ │                         │  │ │ Uploaded      │ Today, 10:30 AM │ │    │
│ │                         │  │ ├───────────────┼─────────────────┤ │    │
│ │                         │  │ │ Uploaded By   │ John Admin      │ │    │
│ │                         │  │ ├───────────────┼─────────────────┤ │    │
│ └─────────────────────────┘  │ │ Status        │ Completed       │ │    │
│                              │ └───────────────┴─────────────────┘ │    │
│ Pages: 5                     └─────────────────────────────────────┘    │
│ Format: PDF                                                             │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### Quản lý Hợp đồng
```
┌─────────────────────────────────────────────────────────────────────────┐
│ Contracts                                         [+ Create Contract]   │
├─────────────────────────────────────────────────────────────────────────┤
│ ┌─────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────────────────┐ │
│ │ Search  │ │ Type ▼      │ │ Status ▼    │ │ Date Range ▼           │ │
│ └─────────┘ └─────────────┘ └─────────────┘ └─────────────────────────┘ │
│                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ Name         │ Type       │ Parties    │ Created     │ Status      │ │
│ ├─────────────┼────────────┼───────────┼────────────┼────────────┤ │
│ │ Sales-A1201  │ Sales      │ 2         │ Today      │ Draft       │ │
│ ├─────────────┼────────────┼───────────┼────────────┼────────────┤ │
│ │ Lease-B0502  │ Lease      │ 2         │ Yesterday  │ Signed      │ │
│ ├─────────────┼────────────┼───────────┼────────────┼────────────┤ │
│ │ Agency-XYZ   │ Agency     │ 2         │ 1 week ago │ Pending     │ │
│ ├─────────────┼────────────┼───────────┼────────────┼────────────┤ │
│ │ NDA-ABC      │ NDA        │ 2         │ 1 month ago│ Expired     │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                         │
│ Showing 1-4 of 56 contracts                      [1] [2] [3] ... [14] >│
└─────────────────────────────────────────────────────────────────────────┘
```

### Quản lý Mẫu Hợp đồng
```
┌─────────────────────────────────────────────────────────────────────────┐
│ Contract Templates                                [+ Create Template]   │
├─────────────────────────────────────────────────────────────────────────┤
│ ┌─────────┐ ┌─────────────┐ ┌─────────────────────────┐                 │
│ │ Search  │ │ Type ▼      │ │ Last Updated ▼          │                 │
│ └─────────┘ └─────────────┘ └─────────────────────────┘                 │
│                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ Name         │ Type       │ Variables  │ Last Updated │ Version    │ │
│ ├─────────────┼────────────┼───────────┼─────────────┼───────────┤ │
│ │ Sales-Std    │ Sales      │ 15        │ 1 week ago   │ 2.3        │ │
│ ├─────────────┼────────────┼───────────┼─────────────┼───────────┤ │
│ │ Lease-Res    │ Lease      │ 12        │ 2 weeks ago  │ 1.5        │ │
│ ├─────────────┼────────────┼───────────┼─────────────┼───────────┤ │
│ │ Agency-Std   │ Agency     │ 10        │ 1 month ago  │ 3.1        │ │
│ ├─────────────┼────────────┼───────────┼─────────────┼───────────┤ │
│ │ NDA-Basic    │ NDA        │ 8         │ 3 months ago │ 1.0        │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
│                                                                         │
│ ┌─────────────────────────────────────────────────────────────────────┐ │
│ │ Template Details: Sales-Std                                        │ │
│ │                                                                     │ │
│ │ Description: Standard sales contract template for residential      │ │
│ │ properties. Includes all legal requirements and standard terms.     │ │
│ │                                                                     │ │
│ │ Variables:                                                          │ │
│ │ - {{buyer_name}} - Buyer's full name                               │ │
│ │ - {{seller_name}} - Seller's full name                             │ │
│ │ - {{property_address}} - Property full address                     │ │
│ │ - {{property_price}} - Property price                              │ │
│ │ - {{deposit_amount}} - Deposit amount                              │ │
│ │ - {{completion_date}} - Completion date                            │ │
│ │ - ...                                                              │ │
│ │                                                                     │ │
│ │ [Edit Template] [Create Contract] [Download] [View History]         │ │
│ └─────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────┘
```

## Responsive Design

### Desktop (>1200px)
- Hiển thị đầy đủ bảng dữ liệu
- Xem trước tài liệu với kích thước lớn
- Layout 2 cột cho chi tiết tài liệu

### Tablet (768px - 1199px)
- Thu gọn bảng dữ liệu, ẩn một số cột ít quan trọng
- Xem trước tài liệu với kích thước vừa
- Layout 1 cột cho chi tiết tài liệu

### Mobile (<768px)
- Hiển thị dạng card thay vì bảng
- Xem trước tài liệu với kích thước nhỏ, có thể zoom
- Các tab được hiển thị dạng accordion

## Quyền truy cập
- **Super Admin**: Toàn quyền quản lý tài liệu và hợp đồng
- **Legal Manager**: Quyền quản lý tài liệu pháp lý và hợp đồng
- **Document Manager**: Quyền quản lý tài liệu và mẫu
- **Sales/Agent**: Quyền xem và tải lên tài liệu liên quan đến giao dịch của mình
- **Customer**: Quyền xem và tải xuống tài liệu được chia sẻ

## API Endpoints

### Documents
- `GET /api/documents` - Lấy danh sách tài liệu
- `GET /api/documents/:id` - Lấy chi tiết tài liệu
- `POST /api/documents` - Tải lên tài liệu mới
- `PUT /api/documents/:id` - Cập nhật tài liệu
- `DELETE /api/documents/:id` - Xóa tài liệu
- `GET /api/documents/:id/download` - Tải xuống tài liệu
- `GET /api/documents/:id/preview` - Xem trước tài liệu

### Folders
- `GET /api/folders` - Lấy danh sách thư mục
- `GET /api/folders/:id` - Lấy chi tiết thư mục
- `POST /api/folders` - Tạo thư mục mới
- `PUT /api/folders/:id` - Cập nhật thư mục
- `DELETE /api/folders/:id` - Xóa thư mục
- `GET /api/folders/:id/documents` - Lấy tài liệu trong thư mục

### Contracts
- `GET /api/contracts` - Lấy danh sách hợp đồng
- `GET /api/contracts/:id` - Lấy chi tiết hợp đồng
- `POST /api/contracts` - Tạo hợp đồng mới
- `PUT /api/contracts/:id` - Cập nhật hợp đồng
- `DELETE /api/contracts/:id` - Xóa hợp đồng
- `POST /api/contracts/:id/sign` - Ký hợp đồng
- `GET /api/contracts/:id/download` - Tải xuống hợp đồng

### Contract Templates
- `GET /api/contract-templates` - Lấy danh sách mẫu hợp đồng
- `GET /api/contract-templates/:id` - Lấy chi tiết mẫu hợp đồng
- `POST /api/contract-templates` - Tạo mẫu hợp đồng mới
- `PUT /api/contract-templates/:id` - Cập nhật mẫu hợp đồng
- `DELETE /api/contract-templates/:id` - Xóa mẫu hợp đồng
- `POST /api/contract-templates/:id/create-contract` - Tạo hợp đồng từ mẫu

### Legal Documents
- `GET /api/legal-documents` - Lấy danh sách tài liệu pháp lý
- `GET /api/legal-documents/:id` - Lấy chi tiết tài liệu pháp lý
- `POST /api/legal-documents` - Tạo tài liệu pháp lý mới
- `PUT /api/legal-documents/:id` - Cập nhật tài liệu pháp lý
- `DELETE /api/legal-documents/:id` - Xóa tài liệu pháp lý
- `GET /api/legal-documents/expiring` - Lấy danh sách tài liệu sắp hết hạn
